{"ast":null,"code":"export default {\n  name: 'checkoutComponent',\n  props: {\n    cartItems: Array\n  },\n\n  data() {\n    return {\n      order_details: {\n        firstname: \"\",\n        lastname: \"\",\n        mobile: \"\"\n      }\n    };\n  },\n\n  methods: {\n    // Get total price of items in the cart\n    totalPrice() {\n      let sum = 0;\n\n      for (let i = 0; i < this.cartItems.length; i++) {\n        let item_price = this.cartItems[i].spaces * this.cartItems[i].price;\n        sum += item_price;\n      }\n\n      return sum;\n    },\n\n    // Validate name and phone number check out fields\n    validateFields() {\n      if (/^[0-9]+$/.test(this.order_details.mobile) && /^[a-z]+$/i.test(this.order_details.firstname) && /^[a-z]+$/i.test(this.order_details.lastname)) {\n        return false;\n      }\n\n      return true;\n    },\n\n    removeFromCart(id, spaces) {\n      this.$emit('remove-lesson', {\n        id: id,\n        spaces: spaces\n      });\n    },\n\n    checkOut() {\n      this.$emit('checkout', this.order_details);\n      this.clearCheckoutForm();\n    },\n\n    clearCheckoutForm: function () {\n      this.order_details.firstname = \"\";\n      this.order_details.lastname = \"\";\n      this.order_details.mobile = \"\";\n    }\n  }\n};","map":{"version":3,"mappings":"AA0DA;EACAA,yBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC;QACAC,aADA;QAEAC,YAFA;QAGAC;MAHA;IADA;EAOA,CAbA;;EAcAC;IACA;IACAC;MACA;;MACA;QACA;QACAC;MACA;;MACA;IACA,CATA;;IAWA;IACAC;MACA;QACA;MACA;;MACA;IACA,CAjBA;;IAkBAC;MACA;QAAAC;QAAAC;MAAA;IACA,CApBA;;IAqBAC;MACA;MACA;IACA,CAxBA;;IAyBAC;MACA;MACA;MACA;IACA;EA7BA;AAdA","names":["name","props","cartItems","data","order_details","firstname","lastname","mobile","methods","totalPrice","sum","validateFields","removeFromCart","id","spaces","checkOut","clearCheckoutForm"],"sourceRoot":"src/components","sources":["checkoutComponent.vue"],"sourcesContent":["<template>\n    <div class=\"card rounded-0\">\n        <div class=\"card-body\">\n                <div class=\"row\">\n                <div class=\"col-sm-7\">\n                    <!-- Cart items -->\n                    <div class=\"row\">\n                        <h6>Cart Items</h6>\n                         <!-- No items in the cart error message -->\n                        <div v-if=\"cartItems.length < 1\" class=\"row justify-content-center\">\n                            <div class=\"col-sm-10\">\n                                <p class=\"text-center m-0\">\n                                    <img style=\"width: 200px; object-fit: cover;\" src=\"../assets/Smiley face_Two Color.svg\" alt=\"\">\n                                </p>\n                                <p class=\"text-center m-0\">No items in the cart</p>\n                            </div>\n                        </div>\n                        <!-- Loop through cart items -->\n                        <div class=\"col-sm-4\" v-for=\"item in cartItems\" :key=\"item.id\">\n                            <div class=\"card mb-3 rounded-0\">\n                                <img :src=\"item.url\" class=\"card-img-top rounded-0 mycard-img\" :alt=\"item.title\">\n                                <div class=\"card-body\">\n                                    <h6 class=\"card-title\">{{item.title}}</h6>\n                                    <p class=\"card-text m-0\"><strong>Location:</strong> {{item.location}}</p>\n                                    <p class=\"card-text m-0\"><strong>Price:</strong> $ {{item.price}}</p>\n                                    <p class=\"card-text m-0\"><strong>Spaces:</strong> {{item.spaces}}</p>\n                                    <button v-on:click=\"removeFromCart(item.id, item.spaces)\" class=\"btn mt-1 btn-sm btn-danger rounded-0 w-100\">Remove from cart <i class=\"fas fa-cart-arrow-down\"></i></button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!-- Check out form -->\n                <div class=\"col-sm-5\">\n                    <h5>Checkout <i class=\"fas fa-paper-plane\"></i></h5>\n                    <div class=\"total-price\">\n                        <div class=\"d-flex\">\n                            <p class=\"m-0\"><strong>Total:</strong></p>\n                            <p class=\"ms-auto\">$ {{totalPrice()}}</p>\n                        </div>\n                    </div>\n                    <div class=\"row mb-2\">\n                        <div class=\"col\">\n                        <input v-model=\"order_details.firstname\" type=\"text\" class=\"form-control rounded-0\" placeholder=\"First name\" aria-label=\"First name\">\n                        </div>\n                        <div class=\"col\">\n                        <input v-model=\"order_details.lastname\" type=\"text\" class=\"form-control rounded-0\" placeholder=\"Last name\" aria-label=\"Last name\">\n                        </div>\n                    </div>\n                    <input type=\"text\" v-model=\"order_details.mobile\" class=\"form-control rounded-0 mb-2\" placeholder=\"Phone number\" aria-label=\"Last name\">\n                    <button v-bind:disabled=\"validateFields()\" v-on:click=\"checkOut\" class=\"btn btn-success w-100 rounded-0\">Checkout <i class=\"fas fa-paper-plane\"></i></button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'checkoutComponent',\n    props:{\n        cartItems: Array\n    },\n    data() {\n        return {\n            order_details:{\n                firstname: \"\",\n                lastname: \"\",\n                mobile: \"\", \n            }\n        }\n    },\n    methods:{\n         // Get total price of items in the cart\n         totalPrice(){\n            let sum = 0\n            for (let i = 0; i < this.cartItems.length; i++) {\n                let item_price =  this.cartItems[i].spaces * this.cartItems[i].price\n                sum += item_price\n            }\n            return sum\n        },\n        \n        // Validate name and phone number check out fields\n        validateFields(){\n            if (/^[0-9]+$/.test(this.order_details.mobile) && /^[a-z]+$/i.test(this.order_details.firstname) && /^[a-z]+$/i.test(this.order_details.lastname)){\n                return false\n            }\n            return true\n        },\n        removeFromCart(id, spaces){\n            this.$emit('remove-lesson', {id: id, spaces: spaces})\n        },\n        checkOut(){\n            this.$emit('checkout', this.order_details)\n            this.clearCheckoutForm()\n        },\n        clearCheckoutForm: function(){\n            this.order_details.firstname = \"\"\n            this.order_details.lastname = \"\"\n            this.order_details.mobile = \"\"\n        },\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}